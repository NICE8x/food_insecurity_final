<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Caroline Andy, Vasili Fokaidis, Stella Li, Tessa Senders" />


<title>Food Insecurity Project Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HOME</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://tessas.shinyapps.io/countymaps/">Map the Gap</a>
</li>
<li>
  <a href="dashboard_1.html">See the Gap</a>
</li>
<li>
  <a href="dashboard_2.html">NY and More</a>
</li>
<li>
  <a href="project_report.html">Project Report</a>
</li>
<li>
  <a href="mailto:&lt;vf2280@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/vf2280/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.feedingamerica.org/">
    <span class="fa fa-globe-americas"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Food Insecurity Project Report</h1>
<h4 class="author">Caroline Andy, Vasili Fokaidis, Stella Li, Tessa Senders</h4>

</div>


<div id="motivation" class="section level2">
<h2><em>Motivation</em></h2>
<div id="food-insecurity-prevalence-and-significance" class="section level3">
<h3><em>Food Insecurity Prevalence and Significance</em></h3>
<p>Food insecurity, the state of being without reliable access to a sufficient quantity of affordable, nutritious food, is a leading health and nutrition issue in the United States. In 2017 an estimated <a href="https://www.feedingamerica.org/sites/default/files/research/map-the-meal-gap/2016/2016-map-the-meal-gap-health-implications.pdf">40 million Americans</a> (12.5 percent) were food insecure.</p>
<p>Food insecurity is associated with numerous adverse health outcomes, including mental health problems, diabetes, hypertension, asthma and poorer general health. As a result of the COVID-19 pandemic, millions of Americans have lost stable employment; early estimates suggest more than 50 million people, including 17 million children, may be experiencing food insecurity in 2020.</p>
<p>Existing research has shown food insecurity to disproportionately impact non-White populations, as well as immigrants, those lacking health insurance, and those with lower educational attainment.</p>
<p><em>Figure 1.</em> National food insecurity prevalence by race and ethnicity</p>
<p><img src="FI_prevalence_by_race.png" /><br />
Image from <a href="https://www.cbpp.org/food-insecurity-by-race-and-ethnicity-reveals-stark-disparities">Center on Budget and Policy Priorities</a></p>
<p>As a result of the increasing prevalence of food insecurity during the COVID-19 pandemic, we are collectively interested in investigating the prevalence of food insecurity on the county-level and its association with select social determinants of health.</p>
<p>This is of particular importance, since <a href="https://www.cdc.gov/coronavirus/2019-ncov/covid-data/investigations-discovery/hospitalization-death-by-race-ethnicity.html">research</a> has shown the COVID-19 pandemic to be disproportionately impacting many of these same sub-populations. Moreover, a majority of food insecure individuals surveyed in Feeding America’s 2014 Hunger in America <a href="https://www.feedingamerica.org/hunger-in-america/impact-of-hunger#:~:text=Hunger%20and%20health%20are%20deeply,adverse%20effects%20to%20overall%20health.">study</a> reported having to choose between food and medical care. Increasing financial burden in 2020 due to job and/or health insurance loss may be further exacerbating this phenomenon.</p>
<p>Thus, identifying the specific regions and/or sub-populations at the greatest risk for food insecurity is essential to develop and enact targeted, effective intervention strategies to reduce the burden of food insecurity.</p>
</div>
<div id="project-goals" class="section level3">
<h3><em>Project goals</em></h3>
<p>Initially, our overarching question was, what does the food disparity across the United States look like on national, regional and county-levels? After investigating the variables in our datasets, we developed more specific research questions and goals, including:</p>
<ul>
<li>Which counties, states and regions are most disproportionately affected by food insecurity?</li>
<li>What are the demographic breakdowns of food insecure counties?</li>
<li>How has food insecurity changed overtime in NY state?</li>
<li>And, can we visualize food insecurity in an accessible way to give people information on how they can help and/or access nutrition assistance resources?</li>
</ul>
</div>
</div>
<div id="data-source-scraping-method-cleaning-etc." class="section level2">
<h2>Data: Source, scraping method, cleaning, etc.</h2>
<p>We utilized Feeding America’s Map the Meal Gap data to quantify food insecurity on a county and regional level. <a href="./Map%20the%20Meal%20Gap%20Overview%20and%20FAQ%2010.2020.pdf">Map the Meal Gap</a> is an annual study conducted by Feeding America to characterize how food insecurity and food costs vary at the local level. Understanding these variations may allow communities to develop targeted strategies to reach people struggling with hunger. For this project, we used Map the Meal Gap annual study reports from years 2011 to 2019, where each report is based on US Census data from the preceding two years. Thus, the study data range from years 2009 - 2017.</p>
<p>Each report presents estimates of 15 food insecurity indicators generated using predictive modeling. These include variables such as overall and child food insecurity rate, and the number of food insecure people and children. Data were presented on the state, county, and congressional district-level. For this project, we used county-level data.</p>
<p>As these data were contained on multiple Excel files, we used the map function to import the data across files. Since column naming was not always consistent across files, the coalesce function was used to combine data from columns representing the same variables. We then generated a unique county-state field, and re-valued select county entries using stringr to be consistent with the US Healthcare.gov Geocodes dataset county naming convention (<a href="https://data.healthcare.gov/resource/geocodes-usa-with-counties.json" class="uri">https://data.healthcare.gov/resource/geocodes-usa-with-counties.json</a>).</p>
<p>In addition to the Map the Meal Gap data, we also used 2017 US Census American Community Survey (ACS) datasets (link to site), which provide county-level breakdowns of relevant social determinants of health, including county racial and ethnic makeup, percent uninsured, percent foreign born, educational attainment breakdowns, and income category breakdowns. We merged these datasets on the county variable to generate a singular tidied table containing county-level food insecurity estimates and demographic breakdowns.</p>
<p>Like the Map the Meal Gap data, the ACS data were contained on multiple CSV files. Thus, we used the map function to import the data across files. To merge this dataset with the Map the Meal Gap data on the county variable, we also re-valued county entries using stringr to be consistent with the above mentioned county naming convention.</p>
<p>In order to map these data elements onto a US county map, we also joined the zip code, latitude and longitude fields from the US Healthcare.gov Geocodes dataset onto the table. Federal Information Processing Standards (FIPS) county codes were also separately joined onto the tidied table from an educational website. (<a href="https://mdreducation.com/" class="uri">https://mdreducation.com/</a> &gt;pdfs &gt; US_FIPS_Codes)</p>
<p>Finally a list of food banks from the Feeding America website was scraped by running a shell of the Docker software in R. Docker was used to click the button on the website hiding the data and then the correct data was scraped using the CSS selector tool to identify the data’s CSS selectors. This data was also matched to the zip code, latitude and longitude data elements in order to map the food bank locations.</p>
</div>
<div id="exploratory-analysis" class="section level2">
<h2><em>Exploratory analysis</em></h2>
<p>Visualizations, summaries, and exploratory statistical analyses. Justify the steps you took, and show any major changes to your ideas. Additional analysis: If you undertake formal statistical analyses, describe these in detail</p>
<div id="animated-scatterplots" class="section level3">
<h3><em>Animated Scatterplots</em></h3>
<p>To create the animated scatterplots, we joined the tidy American Community Survey data with the tidy Feeding America data to develop datasets containing specific variables of interest to compare against food insecurity rates. These variables included race, education level of attainment, insurance status, and income bracket within each county in the U.S. To compare these variables against the food insecurity rate, we converted the counts to percents.</p>
<p>Using <code>gganimate</code> we created animated scatterplots that transition through the levels of each demographic variable with percent level on the y-axis, and food insecurity measure on the x-axis.</p>
</div>
</div>
<div id="united-states-food-insecurity-shinyapp-maps" class="section level2">
<h2><em>United States Food Insecurity ShinyApp Maps</em></h2>
<p>To view geographic trends in food insecurity indicators across the United States, we also generated an interactive county map of the US which allows users to view and compare food insecurity measures across all counties simultaneously. Users may select the food insecurity metric of interest, as well as the year and particular states, if desired.</p>
<p>We also created an interactive map which contains the locations of food banks around the United States to encourage utilization and/or donation.</p>
</div>
<div id="box-plots" class="section level2">
<h2><em>Box Plots</em></h2>
<p>To supplement the above exploratory analyses, we became interested in comparing and characterizing the prevalence of food insecurity within i) select New York state counties, ii) US states, and iii) US regions. We generated animated boxplots which transition through four food insecurity indicators: overall food insecurity rate, the total number of food insecure individuals, child food insecurity rate and the number of food insecure children.</p>
<p>Regions were defined according to the United States Census definitions of US regions. (link to site)</p>
<div id="discussion" class="section level3">
<h3><em>Discussion</em></h3>
<p>What were your findings? Are they what you expect? What insights into the data can you make?</p>
<p>There exists substantial regional variation in food insecurity and child food insecurity rates, and in the number of food insecure children and individuals across the United States. North Dakota, northern Virginia and Maryland contain counties with some of the lowest rates of food insecurity (less than 10 percent). Alabama and Mississippi, on the other hand, contain counties in which more than 35 percent of total people are food insecure.</p>
<p>Preliminary analysis of the box plot data shows substantial variation in food insecurity between several selected counties within New York state. We selected Kings, Bronx, New York, Queens, Westchester, Albany, Chautauqua and Saint Lawrence counties to compare food insecurity across both rural and urban communities.</p>
<p>On a state level, Mississippi was shown to have the highest rate of overall food insecurity, while North Dakota had the lowest. Regionally, the South had the highest rates of overall and child food insecurity, and the Northeast had the lowest. Due to population size differences, the Northeast, however, had the greatest number of total food insecure individuals and food insecure children.</p>
<p>The national food insecurity rate has been slowly decreasing from 2009 to 2017 from about 16.2% to about 13.2%. The number of food insecure children in the entire USA has also been slowly decreasing from 2009 to 2017 from over 18 million (18,281,540) to less than 14 million (13,268,380).</p>
<p>INSERT SUMMARY TABLES HERE : map_the_meal_gap_df %&gt;% group_by(year) %&gt;% summarize(sum(number_food_insecure_children))</p>
<p>map_the_meal_gap_df %&gt;% group_by(year) %&gt;% summarize(sum(number_food_insecure_children, na.rm = TRUE))</p>
<p>Box plots: Make sure titles are standardized (caps vs lowercase) Axis labels</p>
<p>General: Remove names/dates Make neat/label code Write home page abstract Add on home page contributor list at bottom (alphabetical order by last name)</p>
</div>
</div>
<div id="food-insecurity-in-ny-state-counties" class="section level2">
<h2>Food insecurity in NY state counties</h2>
<p>Food insecurity rates by county</p>
<pre class="r"><code>library(tidyverse)
library(ggplot2)
library(gganimate)

fi_rates = 
read_csv(&quot;map_the_meal_gap_df.csv&quot;) %&gt;%
  filter(county_state %in% c(&quot;saint lawrence_NY&quot;, &quot;albany_NY&quot;, &quot;chautauqua_NY&quot;, 
                             &quot;new york_NY&quot;, &quot;queens_NY&quot;, &quot;kings_NY&quot;, &quot;bronx_NY&quot;,
                             &quot;westchester_NY&quot;)) %&gt;%
  select(county, state, year, fi_rate, child_fi_rate) %&gt;%
  pivot_longer(
    fi_rate:child_fi_rate,
    names_to = &quot;rate&quot;,
    values_to = &quot;measure&quot;
  ) %&gt;%
  mutate(
    rate = str_replace(rate, &quot;fi_rate&quot;, &quot;Overall Food Insecurity Rate&quot;),
    rate = str_replace(rate, &quot;child_Overall Food Insecurity&quot;, &quot;Child Food Insecurity Rate&quot;),
    county = str_replace(county, &quot;albany&quot;, &quot;Albany&quot;),
    county = str_replace(county, &quot;bronx&quot;, &quot;Bronx&quot;),
    county = str_replace(county, &quot;chautauqua&quot;, &quot;Chautauqua&quot;),
    county = str_replace(county, &quot;kings&quot;, &quot;Kings&quot;),
    county = str_replace(county, &quot;saint lawrence&quot;, &quot;Saint Lawrence&quot;),
    county = str_replace(county, &quot;new york&quot;, &quot;New York&quot;),
    county = str_replace(county, &quot;westchester&quot;, &quot;Westchester&quot;),
    county = str_replace(county, &quot;queens&quot;, &quot;Queens&quot;),
    county = factor(county, levels = c(&quot;Bronx&quot;, &quot;Kings&quot;, &quot;Saint Lawrence&quot;, &quot;Chautauqua&quot;, 
                                       &quot;New York&quot;, &quot;Queens&quot;, &quot;Albany&quot;, &quot;Westchester&quot;))
    ) %&gt;%
  ggplot(aes(x = county, y = measure, color = county)) + 
  geom_boxplot(show.legend = FALSE, alpha = 0.8) +
  labs(
    title = &#39;{closest_state}&#39;,
    x = &quot;County&quot;,
    y = &quot;Food Insecurity Rate&quot;
  ) +
  theme_bw() +
  transition_states(rate, transition_length = 1, state_length = 3, wrap = TRUE)
  
animate(fi_rates, fps = 10, height = 500, width = 1000)</code></pre>
<p><img src="project_report_files/figure-html/unnamed-chunk-1-1.gif" /><!-- --></p>
<p>Number of food insecure people by county</p>
<pre class="r"><code>fi_numbers = 
read_csv(&quot;map_the_meal_gap_df.csv&quot;) %&gt;%
  filter(county_state %in% c(&quot;saint lawrence_NY&quot;, &quot;albany_NY&quot;, &quot;chautauqua_NY&quot;, 
                             &quot;new york_NY&quot;, &quot;queens_NY&quot;, &quot;kings_NY&quot;, &quot;bronx_NY&quot;,
                             &quot;westchester_NY&quot;)) %&gt;%
  select(county, state, year, number_food_insecure_individuals, number_food_insecure_children) %&gt;%
  pivot_longer(
    number_food_insecure_individuals:number_food_insecure_children,
    names_to = &quot;indicator&quot;,
    values_to = &quot;number&quot;
  ) %&gt;%
  mutate(
    indicator = str_replace(indicator, &quot;number_food_insecure_individuals&quot;, &quot;Number Food Insecure Individuals&quot;),
    indicator = str_replace(indicator, &quot;number_food_insecure_children&quot;, &quot;Number Food Insecure Children&quot;),
    county = str_replace(county, &quot;albany&quot;, &quot;Albany&quot;),
    county = str_replace(county, &quot;bronx&quot;, &quot;Bronx&quot;),
    county = str_replace(county, &quot;chautauqua&quot;, &quot;Chautauqua&quot;),
    county = str_replace(county, &quot;kings&quot;, &quot;Kings&quot;),
    county = str_replace(county, &quot;saint lawrence&quot;, &quot;Saint Lawrence&quot;),
    county = str_replace(county, &quot;new york&quot;, &quot;New York&quot;),
    county = str_replace(county, &quot;westchester&quot;, &quot;Westchester&quot;),
    county = str_replace(county, &quot;queens&quot;, &quot;Queens&quot;),
    county = factor(county, levels = c(&quot;Kings&quot;, &quot;Bronx&quot;, &quot;Queens&quot;, &quot;New York&quot;, 
                              &quot;Westchester&quot;,  &quot;Albany&quot;, &quot;Chautauqua&quot;, &quot;Saint Lawrence&quot;))
    ) %&gt;%
  ggplot(aes(x = county, y = number, color = county)) + 
  geom_boxplot(show.legend = FALSE, alpha = 0.8) +
  labs(
    title = &#39;{closest_state}&#39;,
    x = &quot;County&quot;,
    y = &quot;Number of Food Insecure Individuals/Children&quot;
  ) +
  theme_bw() +
  transition_states(indicator, transition_length = 1, state_length = 3, wrap = TRUE)
  
animate(fi_numbers, fps = 10, height = 500, width = 1000)</code></pre>
<p><img src="project_report_files/figure-html/unnamed-chunk-2-1.gif" /><!-- --></p>
</div>
<div id="food-insecurity-in-us-regions" class="section level2">
<h2>Food Insecurity in US Regions</h2>
<p>Food insecurity rates by US region</p>
<pre class="r"><code>state = c(&quot;AL&quot;, &quot;AK&quot;, &quot;AZ&quot;, &quot;AR&quot;, &quot;CA&quot;, &quot;CO&quot;, &quot;CT&quot;, &quot;DE&quot;, &quot;FL&quot;, &quot;GA&quot;, &quot;HI&quot;, &quot;ID&quot;, &quot;IL&quot;,
          &quot;IN&quot;, &quot;IA&quot;, &quot;KS&quot;, &quot;KY&quot;, &quot;LA&quot;, &quot;ME&quot;, &quot;MD&quot;, &quot;MA&quot;, &quot;MI&quot;, &quot;MN&quot;, &quot;MS&quot;, &quot;MO&quot;, &quot;MT&quot;,
          &quot;NE&quot;, &quot;NV&quot;, &quot;NH&quot;, &quot;NJ&quot;, &quot;NM&quot;, &quot;NY&quot;, &quot;NC&quot;, &quot;ND&quot;, &quot;OH&quot;, &quot;OK&quot;, &quot;OR&quot;, &quot;PA&quot;, &quot;RI&quot;,
          &quot;SC&quot;, &quot;SD&quot;, &quot;TN&quot;, &quot;TX&quot;, &quot;UT&quot;, &quot;VT&quot;, &quot;VA&quot;, &quot;WA&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WY&quot;)
region = c(&quot;S&quot;, &quot;W&quot;, &quot;W&quot;, &quot;S&quot;, &quot;W&quot;, &quot;W&quot;, &quot;NE&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;W&quot;, &quot;W&quot;, &quot;MW&quot;, &quot;MW&quot;, 
           &quot;MW&quot;, &quot;MW&quot;, &quot;S&quot;, &quot;S&quot;, &quot;NE&quot;, &quot;S&quot;, &quot;NE&quot;, &quot;MW&quot;, &quot;MW&quot;, &quot;S&quot;, &quot;MW&quot;, &quot;W&quot;, &quot;MW&quot;, 
           &quot;W&quot;, &quot;NE&quot;, &quot;NE&quot;, &quot;W&quot;, &quot;NE&quot;, &quot;S&quot;, &quot;MW&quot;, &quot;MW&quot;, &quot;S&quot;, &quot;W&quot;, &quot;NE&quot;, &quot;NE&quot;, &quot;S&quot;, 
           &quot;MW&quot;, &quot;S&quot;, &quot;S&quot;, &quot;W&quot;, &quot;NE&quot;, &quot;S&quot;, &quot;W&quot;, &quot;S&quot;, &quot;MW&quot;, &quot;W&quot;)

x_walk = tibble(state, region)
food = read_csv(&quot;map_the_meal_gap_df.csv&quot;) 

fi_rates_region = 
  merge(food, x_walk, by = &quot;state&quot;) %&gt;%
  mutate(region = str_replace(region, &quot;MW&quot;, &quot;Midwest&quot;),
         region = str_replace(region, &quot;W&quot;, &quot;West&quot;),
         region = str_replace(region, &quot;NE&quot;, &quot;Northeast&quot;),
         region = str_replace(region, &quot;S&quot;, &quot;South&quot;),
         region = factor(region, levels = c(&quot;South&quot;, &quot;West&quot;, &quot;Midwest&quot;, &quot;Northeast&quot;))
         ) %&gt;%
  group_by(region, year) %&gt;%
  summarize(mean_fi = mean(fi_rate), mean_child_fi = mean(child_fi_rate)) %&gt;%
  pivot_longer(
    mean_fi:mean_child_fi,
    names_to = &quot;mean_rate&quot;,
    values_to = &quot;measure&quot;
  ) %&gt;%
  mutate(
    mean_rate = str_replace(mean_rate, &quot;mean_fi&quot;, &quot;Mean Food Insecurity Rate&quot;),
    mean_rate = str_replace(mean_rate, &quot;mean_child_fi&quot;, &quot;Mean Child Food Insecurity Rate&quot;)) %&gt;%
  ggplot(aes(x = region, y = measure, color = region)) + 
  geom_boxplot(show.legend = FALSE, alpha = 0.8) +
  labs(
    title = &#39;{closest_state}&#39;,
    x = &quot;Region&quot;,
    y = &quot;Food Insecurity Measure&quot;
  ) +
  theme_bw() +
  transition_states(mean_rate, transition_length = 1, state_length = 3, wrap = TRUE)
  
animate(fi_rates_region, fps = 10, height = 500, width = 1000)</code></pre>
<p><img src="project_report_files/figure-html/unnamed-chunk-3-1.gif" /><!-- --></p>
<p>Number of food insecure people by region</p>
<pre class="r"><code>num_fi_region = 
  merge(food, x_walk, by = &quot;state&quot;) %&gt;%
  mutate(region = str_replace(region, &quot;MW&quot;, &quot;Midwest&quot;),
         region = str_replace(region, &quot;W&quot;, &quot;West&quot;),
         region = str_replace(region, &quot;NE&quot;, &quot;Northeast&quot;),
         region = str_replace(region, &quot;S&quot;, &quot;South&quot;),
         region = factor(region, levels = c(&quot;South&quot;, &quot;West&quot;, &quot;Midwest&quot;, &quot;Northeast&quot;))
         ) %&gt;%
  group_by(region, year) %&gt;%
  summarize(tot_num_fi = sum(number_food_insecure_individuals), tot_num_child_fi = sum(number_food_insecure_children)) %&gt;%
  pivot_longer(
    tot_num_fi:tot_num_child_fi,
    names_to = &quot;tot_num&quot;,
    values_to = &quot;measure&quot;
  ) %&gt;%
  mutate(
    tot_num = str_replace(tot_num, &quot;tot_num_fi&quot;, &quot;Total Number of Total Food Insecure Individuals&quot;),
    tot_num = str_replace(tot_num, &quot;tot_num_child_fi&quot;, &quot;Total Number of Food Insecure Children&quot;)) %&gt;%
  ggplot(aes(x = region, y = measure, color = region)) + 
  geom_boxplot(show.legend = FALSE, alpha = 0.8) +
  labs(
    title = &#39;{closest_state}&#39;,
    x = &quot;Region&quot;,
    y = &quot;Total Number of Food Insecure People&quot;
  ) +
  theme_bw() +
  transition_states(tot_num, transition_length = 1, state_length = 3, wrap = TRUE)
  
animate(num_fi_region, fps = 10, height = 500, width = 1000)</code></pre>
<p><img src="project_report_files/figure-html/unnamed-chunk-4-1.gif" /><!-- --></p>
<p>Line plot of NY state counties overtime</p>
<p><img src="project_report_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
